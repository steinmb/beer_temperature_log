- name: Setup PHP and tools
  id: setup-php
  uses: shivammathur/setup-php@v2
  with:
    php-version: '8.2'
    coverage: xdebug
    extensions: bcmath, mbstring, xdebug
    toos: phpunit, composer

- name: Print PHP version
  run: echo ${{ steps.setup-php.outputs.php-version }}

- name: Install Composer dependencies
  run: composer install --prefer-dist --no-progress --no-suggest

- name: Run tests
  run: php vendor/bin/phpunit tests
